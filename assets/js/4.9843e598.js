(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{357:function(t,s){t.exports="data:image/png;base64,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"},358:function(t,s){t.exports="data:image/png;base64,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"},359:function(t,s,a){t.exports=a.p+"assets/img/2022-06-01-pic3.640f4a0d.png"},360:function(t,s,a){t.exports=a.p+"assets/img/2022-06-01-pic4.bf4684aa.png"},381:function(t,s,a){"use strict";a.r(s);var n=a(1),p=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("p",[t._v("本篇博客主要是对 小程序如何用云数据库增删改查\n")]),t._v(" "),n("h2",{attrs:{id:"_01-背景"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_01-背景"}},[t._v("#")]),t._v(" 01.背景")]),t._v(" "),n("p",[t._v("1.无需搭建服务器，快速构建小程序、公众号\n2.免登录、免鉴权调用微信开放服务\n● 云开发可以通过云函数直接调用微信开放api，免去了登录、鉴权等一些列复杂的前置操作，这一步大大的降低了开发的成本\n3.云存储\n● 云开发提供了一块存储空间，提供了上传文件到云端、带权限管理的云端下载能力，前端开发可以在小程序端和云函数端通过 API 使用云存储功能。也就是说文件存储这一块功能可以由前端独自完成，只需将云存储返回的fileId传给后端写入到数据库即可。")]),t._v(" "),n("h2",{attrs:{id:"_02配置云环境"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_02配置云环境"}},[t._v("#")]),t._v(" 02配置云环境")]),t._v(" "),n("p",[t._v("1.在小程序端开始使用云能力前，需要调用wx.cloud.init方法对云能力进行初始化")]),t._v(" "),n("div",{staticClass:"language-stylus extra-class"},[n("pre",{pre:!0,attrs:{class:"language-stylus"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app.js")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLaunch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])])]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("init"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("env")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hlc-utga0"')])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOpenid")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n\n    globalData"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        userInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            openid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("getStorage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("key")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'openid'")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])]),n("p",[t._v("字段env表示自己在与云数据库中的环境ID.")]),t._v(" "),n("p",[n("strong",[t._v("2.在跟目录中创建云函数目录的文件夹")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(357),alt:"enter description here",title:"2022-06-01.png"}})]),t._v(" "),n("p",[n("strong",[t._v("3.在project.config.json文件中指定云函数的目录")])]),t._v(" "),n("p",[n("img",{attrs:{src:a(358),alt:"enter description here",title:"2022-06-01-pic2.png"}})]),t._v(" "),n("h2",{attrs:{id:"_03添加数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_03添加数据"}},[t._v("#")]),t._v(" 03添加数据")]),t._v(" "),n("p",[n("img",{attrs:{src:a(359),alt:"enter description here",title:"2022-06-01-pic3.png"}})]),t._v(" "),n("p",[t._v("以下是wxss,wxml")]),t._v(" "),n("div",{staticClass:"language-stylus extra-class"},[n("pre",{pre:!0,attrs:{class:"language-stylus"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* pages/add/add.wxss */")]),t._v("\n\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".chooseimg "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-bottom")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" solid "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#beb8b8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".choose-tit "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" bold"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#1a1a1a")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".tip "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#beb8b8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-weight")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("400")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".choose-box "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inline-block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("max-width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#f7f3f3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".choose-box image "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("64")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".choose-box text "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#beb8b8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".infobox "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("padding")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("15")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".ipttxt "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("justify-content")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" space-between"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#beb8b8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("font-size")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("32")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("input "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inline-block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" right"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("vertical-align")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" middle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("input::placeholder "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#beb8b8")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".upload "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("500")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" auto"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("text-align")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("background")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("rgb")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("155")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("156")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("154")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("border-radius")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("color")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token hexcode"}},[t._v("#f7f3f3")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("line-height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".preview "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" inline-block"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("margin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".preview image "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".cover "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("justify-content")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" space-between"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("line-height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".cover image "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("height")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("vertical-align")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" middle"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".cover input "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("width")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),n("span",{pre:!0,attrs:{class:"token unit"}},[t._v("rpx")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n\n")])])]),n("div",{staticClass:"language-stylus extra-class"},[n("pre",{pre:!0,attrs:{class:"language-stylus"}},[n("code",[n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('<view class="container">')]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('<view class="chooseimg">')]),t._v("\n        <text class="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"choose-tit"')]),t._v(">上传曲谱 <text class="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"tip"')]),t._v(">"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("至多9张"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("</text></text>\n        "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('<view class="preview" wx:for="'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),n("span",{pre:!0,attrs:{class:"token interpolation variable"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{")]),t._v("imgList"),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" wx:key="')]),t._v('item">\n            '),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('<image src="'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),n("span",{pre:!0,attrs:{class:"token interpolation variable"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{")]),t._v("item"),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" mode="')]),t._v('aspectFit"></image>\n        '),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('</view>\n        <view class="choose-box" bindtap="chooseImage">')]),t._v("\n            <image src="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/images/icons/up-icon.png"')]),t._v("></image>\n            <text>添加新图片</text>\n        </view>\n    "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('</view>\n    <view class="infobox">')]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('<view class="ipttxt">')]),t._v("\n            <text>曲谱名称</text> <input type="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" bindinput="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getname"')]),t._v(" placeholder="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"必填 请输入"')]),t._v(" />\n        "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('</view>\n        <view class="ipttxt">')]),t._v("\n            <text>乐器</text> <input type="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" bindinput="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getmusical"')]),t._v(" placeholder="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"必填 请输入"')]),t._v(" />\n        "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('</view>\n        <view class="ipttxt cover">')]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("<text>封面</text>\n            <view>")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('<image src="'),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),n("span",{pre:!0,attrs:{class:"token interpolation variable"}},[n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{")]),t._v("coverurl"),n("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"></image> <input type="')]),t._v("text"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" placeholder="')]),t._v("选填"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('" bindtap="')]),t._v('upcoverimg" />\n            </view>\n        '),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('</view>\n        <view class="ipttxt">')]),t._v("\n            <text>作者</text> <input type="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" bindinput="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"getauth"')]),t._v(" placeholder="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"选填"')]),t._v(" />\n        "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v('</view>\n        <view class="ipttxt">')]),t._v("\n            <text>曲谱类型</text> <input type="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v(" bindinput="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"gettype"')]),t._v(" placeholder="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"选填"')]),t._v(" />\n        </view>\n    </view>\n    <view class="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upload"')]),t._v(" bindtap="),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"upinfo"')]),t._v(">上传</view>\n</view>\n")])])]),n("p",[n("strong",[t._v("接下来就是js逻辑")])]),t._v(" "),n("p",[t._v("1.首先需要在云数据库中创建保存数据的集合")]),t._v(" "),n("p",[n("img",{attrs:{src:a(360),alt:"enter description here",title:"2022-06-01-pic4.png"}})]),t._v(" "),n("p",[t._v("其中的_id是自动生成的，_openid是当前用户的唯一标识，后续可以通过查询_openid来写当前用户自己创建的文件。")]),t._v(" "),n("p",[t._v("2.接下来可以通过页面Js关联云数据库中的集合，也可以通过云函数去关联，我是直接用当前页面的js")]),t._v(" "),n("div",{staticClass:"language-stylus extra-class"},[n("pre",{pre:!0,attrs:{class:"language-stylus"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pages/add/add.js")]),t._v("\nPage"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("/**")]),t._v("\n     * 页面的初始数据\n     */\n    data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        imgList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n        coverurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(",\n        info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            openid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(",\n            name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(",\n            musical"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(",\n            auth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(",\n            type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(",\n            cover"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n            urlList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(",\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n\n    "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("/**")]),t._v("\n     * 生命周期函数--监听页面加载\n     */\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("onLoad")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("options"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 选择图片封装")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseImageFunction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" localurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dataurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("let")]),t._v(" that "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseImage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            count"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" num"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            sizeType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'original'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'compressed'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            sourceType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'album'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'camera'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            success"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" res "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                wx.showLoading"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'上传中'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("function "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n                    wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideLoading")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(", 2000"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//    让选择图片展示在页面上，方便用户预览")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// tempFilePath可以作为 img 标签的 src 属性显示图片")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("const")]),t._v(" tempFilePaths "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" res.tempFilePaths"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n                this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setData")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("localurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" tempFilePaths\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token statement"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("let i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" tempFilePaths.length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("let")]),t._v(" imgurl "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tempFilePaths"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定云数据库中的文件夹以及文件名")]),t._v("\n                    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("const")]),t._v(" cloudPath "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'guitar/'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" new "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Date")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("."),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" ")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'_'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" Math."),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("floor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Math."),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("random")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" tempFilePaths"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("."),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\\."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("^."),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("$"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])])])]),t._v("\n                    that"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uploadimg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("imgurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cloudPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dataurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上传图片函数")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uploadimg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cloudPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dataurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("uploadFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            cloudPath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上传至云端的路径")]),t._v("\n            filePath"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 小程序临时文件路径")]),t._v("\n            success"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" res "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                wx.showToast"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'上传成功'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取云存储中的图片地址")]),t._v("\n                dataurl"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res.fileID"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("fail")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" console.error")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上传曲谱")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseImage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseImageFunction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'imgList'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" this.data.info.urlList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 上传封面")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("upcoverimg")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("chooseImageFunction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'coverurl'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" this.data.info.cover"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取输入框的值")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getname")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name = event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getmusical")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("musical = event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getauth")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth = event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("gettype")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        this"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type = event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("detail"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("upinfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token statement"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("this.data.info.name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" this.data.info.musical "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("const")]),t._v(" info "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" this.data.info")]),t._v("\n            wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("database")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".collection"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Pedigree'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n                data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    auth"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auth,\n                    name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name,\n                    cover"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cover,\n                    type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" info"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type,\n                    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("imgList")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" info.urlList")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                wx.showToast"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'添加成功'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                wx.showToast"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                    title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'添加失败'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" else "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("showToast")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                title"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请填写必填项'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("其中的字段cover代表的是封面，urlList表示上传的谱子图，集合中本身没有保存图片，只是保存了在云存储中的fileId, 也就是在云存储中的图片地址。这样就简单实现了如何向云数据库中添加数据")]),t._v(" "),n("h2",{attrs:{id:"_04获取数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_04获取数据"}},[t._v("#")]),t._v(" 04获取数据")]),t._v(" "),n("p",[t._v("获取云数据库中的数据，直接通过新建云函数，比如在云函数目录中新建getOpenid云函数,就可以获取到当前用户的唯一标识")]),t._v(" "),n("div",{staticClass:"language-stylus extra-class"},[n("pre",{pre:!0,attrs:{class:"language-stylus"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 云函数入口文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("const")]),t._v(" cloud "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wx-server-sdk'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n\ncloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 云函数入口函数")]),t._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main = async "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event, context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" => "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("const")]),t._v(" wxContext "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cloud."),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getWXContext")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token statement"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token selector"}},[t._v("event"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")])]),t._v("\n        openid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wxContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("OPENID,\n        appid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wxContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("APPID,\n        unionid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" wxContext"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("UNIONID,\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("然后在app.js中调用该云函数并且保存在本地，这样我们就可以通过openid去筛选当前用户自己上传的数据")]),t._v(" "),n("div",{staticClass:"language-stylus extra-class"},[n("pre",{pre:!0,attrs:{class:"language-stylus"}},[n("code",[t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取openid")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("getOpenid")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("callFunction")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getOpenId'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])])]),t._v("\n                wx"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("setStorageSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'openid'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res.result.openid"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n            "),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("fail")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n                console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(",\n")])])]),n("p",[t._v("比如我们希望去获取Pedigree集合中的数据")]),t._v(" "),n("div",{staticClass:"language-stylus extra-class"},[n("pre",{pre:!0,attrs:{class:"language-stylus"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 云函数入口文件")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("const")]),t._v(" cloud "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wx-server-sdk'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n\ncloud"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("init")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("const")]),t._v(" db "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" cloud."),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("database")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 云函数入口函数")]),t._v("\nexports"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("main = async "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("event, context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" => "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 只获取当前自己用户的")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token statement"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" await db.collection"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Pedigree'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(".where"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")])]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token property-declaration"}},[n("span",{pre:!0,attrs:{class:"token property"}},[t._v("_openid")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" event._openid")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token func"}},[n("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("然后通过页面去调用该云函数，即刻获取数据")])])}),[],!1,null,null,null);s.default=p.exports}}]);